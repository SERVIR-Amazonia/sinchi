var format_pts=function (pts) {
    var labels = ee.FeatureCollection(pts)
        .aggregate_array('LANDCOVER')
        .distinct()
        .sort();

    function binaryPts(l) {
        var prim = pts.filter(ee.Filter.eq('LANDCOVER', l))
                     .map(function(f) { return f.set('PRIM', 1); });
        var nonPrim = pts.filter(ee.Filter.neq('LANDCOVER', l))
                         .map(function(f) { return f.set('PRIM', 0); });
        return ee.FeatureCollection(prim).merge(nonPrim);
    }

    return ee.List(labels).map(binaryPts);
}